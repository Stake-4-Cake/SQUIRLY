"use strict";(self.webpackJsonp__wix_thunderbolt_app=self.webpackJsonp__wix_thunderbolt_app||[]).push([[2694],{60563:function(e,t,r){r.r(t),r.d(t,{DynamicPagesResponseHandlerSymbol:function(){return l.nk},site:function(){return C}});var n=r(77748),a=r(71085),s=r(20590),o=r(32166),i=r(32777),c=r(75396),u=r(10553),l=r(10984);const p="_403_dp",d="_404_dp",g="_500_dp",h="_uknown_error_dp",m=e=>e.replace("./","").split("/"),U=e=>/(^https?)|(^data)|(^blob)|(^\/\/)/.test(e),f=(e,t)=>/^\/(.*)/.test(e)?`.${e}`:`./${t}/${e}`,_=e=>`/${m(e).slice(1).join("/")}`,w=e=>m(e)[0];var P=r(78691),y=r(79460),I=r(51360);const v=(0,n.Og)([(0,n.KT)(s.YG,l.UU),o.RV,i.F,a.$1,l.nk,l.u_,c.t7,P._w,y.q,u.n,o.Ht],(({prefixToRouterFetchData:e,routerPagesSeoToIdMap:t},r,n,a,{handleResponse:s},o,i,c,{getFetchParams:u,tryToGetCachableFetchParams:p},g,h)=>({getSitemapFetchParams(t){const r=e[t];if(!r)return null;const n=a.getRelativeEncodedUrl(),s=a.getParsedUrl().search,o=_(n);return u(I.U.SITEMAP,r,{routerSuffix:o,queryParams:s})},async handle(r){if(!r.pageId&&r.relativeUrl&&r.parsedUrl&&r.relativeEncodedUrl){const a=w(r.relativeUrl),u=e[a];if(!u)return t[a]?{...r,pageId:d}:r;const m=await(()=>{const e=i.getCurrentRouteInfo();return!g["specs.thunderbolt.dynamicPagesWarmupData2"]||e?null:c.getWarmupData(l.UU,{timeout:0})})();if(m)return{...r,...m};h.interactionStarted("custom_router_fetch_route_info");const U=_(r.relativeEncodedUrl),f=r.parsedUrl.search,{url:P,options:y}=await p(I.U.PAGES,u,{routerSuffix:U,queryParams:f}),v=s(n.envFetch(P,y),r);return o.getHandler().handle(v,r).then((e=>(h.interactionEnded("custom_router_fetch_route_info"),e)))}return r}})));var b=r(16537),S=r(94715),R=r(12457),D=r(82658);const T=(0,n.Og)([(0,n.KT)(s.YG,l.UU),o.RV,S.wN,R.Tf,u.n,o.UK],(({externalBaseUrl:e},t,r,n,a,s)=>({async handleResponse(r,a){const o=w(a.relativeUrl);return r.then((async r=>{if(!r.ok)throw r;const i=await r.json(),{result:c,exception:u}=i,{redirectUrl:l,status:m}=c;if(m&&(0,D.fU)(t)&&n.setStatusCode(m),l){if((0,D.fU)(t)){const t=((e,t,r,n)=>{if(U(e))return e;const a=f(e,r),s=new URL(a,`${t}/`);return s.search=n,s.toString()})(l,e,o,a.parsedUrl.search);return n.setRedirectUrl(t),null}if(await s,t.document.head.querySelector('meta[http-equiv="refresh"]'))return null;if(U(l))return t.location.assign(l),null;return{redirectUrl:f(l,o)}}const _=(({status:e,page:t,redirectUrl:r},n)=>n?g:403===e?p:404===e?d:t||r?null:h)(c,u);return _?{...a,pageId:_}:((e,t)=>{const{page:r,data:n,head:a,tpaInnerRoute:s,publicData:o}=t.result;return{...e,pageId:r,dynamicRouteData:{pageData:n,pageHeadData:a,publicData:o,tpaInnerRoute:s}}})(a,i)})).catch((()=>(0,D.fU)(t)?null:{...a,pageId:g}))}})));var M=r(19889),k=r(66397);const E=(0,n.Og)([(0,n.KT)(s.wk,l.UU),a.Ix,c.t7,(0,n.lq)(M.Np)],((e,t,r,n)=>{const a=async(e,a)=>{const{success:s,reason:o}=await(async()=>{try{return await n.promptLogin(),{success:!0,reason:""}}catch(e){return{success:!1,reason:e}}})();return o===k.qd.CANCELED&&r.isLandingOnProtectedPage()?t.navigate("./"):!!s&&t.navigate(a.parsedUrl.href)};return e.update((()=>({handlePermissions:a,isMemberLoggedIn:async()=>!!await(n?.getMemberDetails()),isSiteMembersInstalled:!!n}))),{appWillMount:async()=>{}}})),x=(0,n.Og)([(0,n.KT)(s.wk,l.UU)],(e=>({getHandler:()=>({handle:async(t,r)=>{const n=await t,{handlePermissions:a,isMemberLoggedIn:s,isSiteMembersInstalled:o}=e.get(),i=await s();return o&&n?.pageId===p&&!i?(a(n,r).catch((e=>{console.error("Error handling permissions",e)})),null):n}})}))),C=e=>{e(a.po.Dynamic,s.SV).to(v),e(l.nk).to(T),e(l.P3,b.$.AppWillMountHandler).to(E),e(l.u_).to(x)}},26513:function(e,t,r){r.r(t),r.d(t,{page:function(){return u}});var n=r(16537),a=r(20590),s=r(87711);var o=r(77748),i=r(14625);const c=(0,o.Og)([(0,o.KT)(a.Gp,i.U),s.eZ,s.Ji],((e,t,r)=>({name:"sosp",pageWillMount(n){((e,t,r,n)=>{const{sospCompId:a,sospParentId:s,position:o,pagesToShowSosp:i}=t,c=r.get(s);c&&(i[e]?(c.components.includes(a)||r.addComponentToParent(s,a,o),n.update({[s]:{className:"page-with-sosp"}})):(c.components.includes(a)&&r.removeComponentFromParent(s,a),n.update({[s]:{className:"page-without-sosp"}})))})(n,e,t,r)}}))),u=e=>{e(n.$.PageWillMountHandler).to(c)}}}]);
//# sourceMappingURL=https://static.parastorage.com/services/wix-thunderbolt/dist/group_38.0437e39e.chunk.min.js.map